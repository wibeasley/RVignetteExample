<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{Code Behind Vignette}
-->

# Goals of this Pacakge
This vignette is a minimal exmaple of an R package that has a nonstandard vignette.  I would like to have a working exmaple of a vignette with these features: 
 1. Uses `knitr` instead of `Sweave` to build the vignette.  
 1. Uses `knitr`'s [code externalization](http://yihui.name/knitr/demo/externalization/) feature, where almost all the R code lives in a dedicated *.R file.
 1. Is **not** rebuilt every time the package is checked.  I am pretending this vignette takes a long time to run and compile, and sould be run on CRAN or win-builder computer (or even run on the developer's computer is they don't want to take 5+ minutes)
 1. Saves images to a dedicated directory to make it easier to track changes in GitHub.  Presumably this directory is `./vignettes/FigureRmd`.

I chose and Rmd file instead of a Rnw, so that it could be run on more development boxes, and increase the chance of getting a more helpful & portable response.

```{r set_root_directory, echo=FALSE, results='hide'} 
#It works better if the root directory is set in its own chunk.
library(knitr)
knitr::opts_knit$set(root.dir = "../")
```

```{r set_options, echo=FALSE, results='hide'}
knitr::opts_chunk$set(
    comment=NA, 
    tidy=FALSE,
    fig.width=4.5, 
    fig.height=3, 
    out.width="300px", #This affects only the markdown, not the png.  Height will scale appropriately.
    fig.path='FigureRmd/',
    dpi=200
)

base::options(width=120) #So the output is 50% wider than the default.

read_chunk("./vignettes/CodeBehindVignette.R")
```

## Declare Global Variables
```{r Definitions}
```

## Analysis 1
```{r Analysis1}
```

## Analysis 2
```{r Analysis2}
```

## Graph 1
```{r Graph1}
```

## Graph 2
```{r Graph2}
```

## Session Info
The current vignette was build on a system using the following software.

```{r session_info, echo=FALSE}
base::cat("Report created by", base::Sys.info()["user"], "at", base::strftime(base::Sys.time(), "%c, %z"))
utils::sessionInfo()
```
